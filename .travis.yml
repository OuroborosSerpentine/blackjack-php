language: php

php:
   - 7.0
   - 7.1
   - hhvm
   - nightly

sudo: false

cache:
   directories:
      - vendor

branches:
   only:
      - master

notifications:
   email: true

install:
   - composer install --no-dev --quiet

before_script:
   - curl -sSf -o ~/.phpenv/versions/hhvm/bin/phpunit https://phar.phpunit.de/phpunit-5.7.phar

script: phpunit -c phpunit.xml --coverage-text